{"version":3,"sources":["../../../../.tmp-es/components/combobox/private/menu.jsx"],"names":["React","PropTypes","isEqual","classNames","Icon","propTypes","activeOption","object","activeOptionIndex","number","className","oneOfType","array","string","classNameMenu","classNameMenuSubHeader","inheritWidthOf","oneOf","inputId","itemVisibleLength","labels","shape","noOptionsFound","node","isRequired","menuItem","func","maxWidth","options","resetActiveOption","onSelect","selection","variant","isSelected","assistiveText","defaultProps","Menu","props","style","width","undefined","menuOptions","map","optionData","index","active","selected","option","MenuItem","type","label","id","event","icon","subTitle","checkbox","optionSelectedInMenu","length","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable jsx-a11y/interactive-supports-focus */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash.isequal';\nimport classNames from 'classnames';\n\nimport Icon from '../../icon';\n\nconst propTypes = {\n\t/*\n\t * Active descendant in menu\n\t */\n\tactiveOption: PropTypes.object,\n\t/*\n\t * Index of active descendant in menu\n\t */\n\tactiveOptionIndex: PropTypes.number,\n\t/**\n\t * CSS classes to be added to container `div` tag. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS classes to be added to tag with `.slds-dropdown`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassNameMenu: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * CSS classes to be added to menu sub header `span` tag. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t */\n\tclassNameMenuSubHeader: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Sets the dialog width to the width of one of the following:\n\t * `target`: (Menus attached to `input` typically follow this UX pattern),\n\t *  `menu`: Consider setting a menuMaxWidth if using this value. If not, width will be set to width of largest menu item.\n\t *  'none'\n\t */\n\tinheritWidthOf: PropTypes.oneOf(['target', 'menu', 'none']),\n\t/*\n\t * Id used for assistive technology\n\t */\n\tinputId: PropTypes.string,\n\t/**\n\t * Determines the height of the menu based on SLDS CSS classes.\n\t */\n\titemVisibleLength: PropTypes.oneOf([5, 7, 10]),\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `noOptionsFound`: Custom message that renders when no matches found. The default empty state is just text that says, 'No matches found.'.\n\t */\n\tlabels: PropTypes.shape({\n\t\tnoOptionsFound: PropTypes.oneOfType([PropTypes.node, PropTypes.string])\n\t\t\t.isRequired,\n\t}),\n\t/**\n\t * Accepts a custom menu item rendering function that becomes a custom component and is passed in the following props:\n\t * * `assistiveText`: Object, `assistiveText` prop that is passed into Combobox\n\t * * `option`: Object, option data for item being rendered that is passed into Combobox\n\t * * `selected`: Boolean, allows rendering of `assistiveText.optionSelectedInMenu` in Readonly Combobox\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\tmenuItem: PropTypes.func,\n\t/*\n\t * Sets a maximum width that the menu will be if `inheritWidthOf` is menu.\n\t */\n\tmaxWidth: PropTypes.string,\n\t/*\n\t * Menu options\n\t */\n\toptions: PropTypes.array,\n\t/*\n\t * Callback to remove active descendent\n\t */\n\tresetActiveOption: PropTypes.func,\n\t/*\n\t * Callback when option is selected with keyboard or mouse\n\t */\n\tonSelect: PropTypes.func,\n\t/*\n\t * Selected options\n\t */\n\tselection: PropTypes.array,\n\t/**\n\t * Changes styles of the menu option\n\t */\n\tvariant: PropTypes.oneOf(['icon-title-subtitle', 'checkbox']),\n\tisSelected: PropTypes.func,\n\tassistiveText: PropTypes.object,\n};\n\nconst defaultProps = {};\n\nconst Menu = (props) => {\n\tconst style =\n\t\tprops.inheritWidthOf === 'menu'\n\t\t\t? {\n\t\t\t\twidth: 'auto',\n\t\t\t\tmaxWidth: props.maxWidth ? props.maxWidth : 'inherit',\n\t\t\t}\n\t\t\t: undefined;\n\tconst menuOptions = props.options.map((optionData, index) => {\n\t\tconst active =\n\t\t\tindex === props.activeOptionIndex &&\n\t\t\tisEqual(optionData, props.activeOption);\n\t\tconst selected = props.isSelected({\n\t\t\tselection: props.selection,\n\t\t\toption: optionData,\n\t\t});\n\t\tconst MenuItem = props.menuItem;\n\n\t\tif (optionData.type === 'separator') {\n\t\t\treturn optionData.label ? (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"slds-dropdown__header slds-truncate\"\n\t\t\t\t\ttitle={optionData.label}\n\t\t\t\t\trole=\"separator\"\n\t\t\t\t\tkey={`menu-separator-${optionData.id}`}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t'slds-text-title_caps',\n\t\t\t\t\t\t\tprops.classNameMenuSubHeader\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{optionData.label}\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t) : (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"slds-has-divider_top-space\"\n\t\t\t\t\trole=\"separator\"\n\t\t\t\t\tkey={`menu-separator-${optionData.id}`}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName=\"slds-listbox__item\"\n\t\t\t\tkey={`menu-option-${optionData.id}`}\n\t\t\t\trole=\"presentation\"\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\t{\n\t\t\t\t\t\t'icon-title-subtitle': (\n\t\t\t\t\t\t\t<span // eslint-disable-line jsx-a11y/no-static-element-interactions\n\t\t\t\t\t\t\t\taria-selected={active}\n\t\t\t\t\t\t\t\tid={`${props.inputId}-listbox-option-${optionData.id}`}\n\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t'slds-media slds-listbox__option',\n\t\t\t\t\t\t\t\t\t'slds-listbox__option_entity slds-listbox__option_has-meta',\n\t\t\t\t\t\t\t\t\t{ 'slds-has-focus': active }\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\tprops.onSelect(event, { option: optionData });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{optionData.icon && !props.menuItem ? (\n\t\t\t\t\t\t\t\t\t<span className=\"slds-media__figure\">{optionData.icon}</span>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{props.menuItem ? (\n\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\tassistiveText={props.assistiveText}\n\t\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t\toption={optionData}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<span className=\"slds-media__body\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-listbox__option-text slds-listbox__option-text_entity\">\n\t\t\t\t\t\t\t\t\t\t\t{optionData.label}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-listbox__option-meta slds-listbox__option-meta_entity\">\n\t\t\t\t\t\t\t\t\t\t\t{optionData.subTitle}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcheckbox: (\n\t\t\t\t\t\t\t<span // eslint-disable-line jsx-a11y/no-static-element-interactions\n\t\t\t\t\t\t\t\taria-selected={selected}\n\t\t\t\t\t\t\t\tid={`${props.inputId}-listbox-option-${optionData.id}`}\n\t\t\t\t\t\t\t\tclassName={classNames(\n\t\t\t\t\t\t\t\t\t'slds-media slds-listbox__option',\n\t\t\t\t\t\t\t\t\t' slds-listbox__option_plain slds-media_small slds-media_center',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'slds-has-focus': active,\n\t\t\t\t\t\t\t\t\t\t'slds-is-selected': selected,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\t\t\t\tprops.onSelect(event, {\n\t\t\t\t\t\t\t\t\t\tselection: props.selection,\n\t\t\t\t\t\t\t\t\t\toption: optionData,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span className=\"slds-media__figure\">\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\tclassName=\"slds-listbox__icon-selected\"\n\t\t\t\t\t\t\t\t\t\tcategory=\"utility\"\n\t\t\t\t\t\t\t\t\t\tname=\"check\"\n\t\t\t\t\t\t\t\t\t\tsize=\"x-small\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className=\"slds-media__body\">\n\t\t\t\t\t\t\t\t\t{props.menuItem ? (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tassistiveText={props.assistiveText}\n\t\t\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t\t\toption={optionData}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span className=\"slds-truncate\" title={optionData.label}>\n\t\t\t\t\t\t\t\t\t\t\t{selected ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{props.assistiveText.optionSelectedInMenu}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t) : null}{' '}\n\t\t\t\t\t\t\t\t\t\t\t{optionData.label}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t),\n\t\t\t\t\t}[props.variant]\n\t\t\t\t}\n\t\t\t</li>\n\t\t);\n\t});\n\n\treturn (\n\t\t<ul\n\t\t\tclassName={classNames(\n\t\t\t\t'slds-listbox slds-listbox_vertical slds-dropdown slds-dropdown_fluid',\n\t\t\t\t{\n\t\t\t\t\t'slds-dropdown_length-with-icon-5': props.itemVisibleLength === 5,\n\t\t\t\t\t'slds-dropdown_length-with-icon-7': props.itemVisibleLength === 7,\n\t\t\t\t\t'slds-dropdown_length-with-icon-10': props.itemVisibleLength === 10,\n\t\t\t\t},\n\t\t\t\tprops.classNameMenu\n\t\t\t)}\n\t\t\trole=\"presentation\"\n\t\t\tstyle={style}\n\t\t>\n\t\t\t{menuOptions.length ? (\n\t\t\t\tmenuOptions\n\t\t\t) : (\n\t\t\t\t<li\n\t\t\t\t\tclassName=\"slds-listbox__item slds-listbox__status\"\n\t\t\t\t\trole=\"status\"\n\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t>\n\t\t\t\t\t<span className=\"slds-m-left--x-large slds-p-vertical--medium\">\n\t\t\t\t\t\t{props.labels.noOptionsFound}\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t)}\n\t\t</ul>\n\t);\n};\n\nMenu.displayName = 'Menu';\nMenu.propTypes = propTypes;\nMenu.defaultProps = defaultProps;\n\nexport default Menu;\n"],"file":"menu.js"}
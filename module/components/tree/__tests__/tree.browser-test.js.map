{"version":3,"sources":["../../../../.tmp-es/components/tree/__tests__/tree.browser-test.jsx"],"names":["React","createReactClass","PropTypes","isFunction","cloneDeep","chai","expect","chaiEnzyme","mountComponent","unmountComponent","keyObjects","sampleNodes","IconSettings","Tree","Search","use","COMPONENT_CSS_CLASSES","base","DemoTree","displayName","propTypes","branchExpandClicked","func","exampleNodesIndex","string","getNodes","itemClicked","noBranchSelection","bool","searchTerm","searchable","singleSelection","treeScrolled","loading","getDefaultProps","id","getInitialState","initalNodes","props","sampleNodesDefault","nodes","undefined","handleExpandClick","event","data","node","expanded","expand","setTimeout","forceUpdate","handleClick","selected","select","setState","state","type","handleScroll","handleSearchChange","target","value","render","describe","beforeEach","afterEach","it","wrapper","find","simulate","itemDiv","to","have","length","DOWN","UP","item","RIGHT","items","LEFT","height","container","hasClass","be","true","list","offsetHeight","equal","heading","ariaLabelledbyId","selectedNode","expandedBranchList","childNodes","sinon","spy","expandClicked","branch","callCount","expandButton","markedItem","onScroll","overflowY"],"mappings":"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","sourcesContent":["/* eslint-env mocha */\n/* global sinon */\n/* eslint-disable prefer-arrow-callback */\n/* eslint-disable no-unused-expressions */\n\nimport React from 'react';\nimport createReactClass from 'create-react-class';\nimport PropTypes from 'prop-types';\n\nimport isFunction from 'lodash.isfunction';\nimport cloneDeep from 'lodash.clonedeep';\n\nimport chai, { expect } from 'chai';\nimport chaiEnzyme from 'chai-enzyme';\n// `this.wrapper` and `this.dom` is set in the helpers file\nimport {\n\tmountComponent,\n\tunmountComponent,\n} from '../../../tests/enzyme-helpers';\n\nimport { keyObjects } from '../../../utilities/key-code';\nimport sampleNodes from '../../../utilities/sample-data/tree';\n\nimport IconSettings from '../../icon-settings';\nimport Tree from '../../tree';\nimport Search from '../../forms/input/search';\n\nchai.use(chaiEnzyme());\n\nconst COMPONENT_CSS_CLASSES = {\n\tbase: 'slds-tree',\n};\n\nconst DemoTree = createReactClass({\n\tdisplayName: 'DemoTree',\n\n\t// ### Prop Types\n\tpropTypes: {\n\t\tbranchExpandClicked: PropTypes.func,\n\t\texampleNodesIndex: PropTypes.string,\n\t\tgetNodes: PropTypes.func,\n\t\titemClicked: PropTypes.func,\n\t\tnoBranchSelection: PropTypes.bool,\n\t\tsearchTerm: PropTypes.string,\n\t\tsearchable: PropTypes.bool,\n\t\tsingleSelection: PropTypes.bool,\n\t\ttreeScrolled: PropTypes.func,\n\t\tloading: PropTypes.bool,\n\t},\n\n\tgetDefaultProps () {\n\t\treturn {\n\t\t\texampleNodesIndex: 'sampleNodesDefault',\n\t\t\tid: 'example-tree',\n\t\t\tloading: true,\n\t\t};\n\t},\n\n\tgetInitialState () {\n\t\tconst initalNodes = this.props.exampleNodesIndex\n\t\t\t? sampleNodes[this.props.exampleNodesIndex]\n\t\t\t: sampleNodes.sampleNodesDefault;\n\t\treturn {\n\t\t\tnodes: cloneDeep(initalNodes),\n\t\t\tsearchTerm: this.props.searchable ? 'fruit' : undefined,\n\t\t};\n\t},\n\n\t// By default Tree can have multiple selected nodes and folders/branches can be selected. To disable either of these, you can use the following logic. However, `props` are immutable. The node passed in shouldn't be modified, and due to object and arrays being reference variables, forceUpate is needed. This is just a \"working example\" not a prescription.\n\thandleExpandClick (event, data) {\n\t\tif (isFunction(this.props.branchExpandClicked)) {\n\t\t\tthis.props.branchExpandClicked(event, data);\n\t\t}\n\t\tdata.node.expanded = data.expand;\n\n\t\tif (this.props.loading) {\n\t\t\tdata.node.loading = data.expand ? true : undefined;\n\t\t\t// Fake delay to demonstrate use of loading node attibute\n\t\t\tsetTimeout(\n\t\t\t\t(node) => {\n\t\t\t\t\tnode.loading = false;\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t},\n\t\t\t\t500,\n\t\t\t\tdata.node\n\t\t\t);\n\t\t} else {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t},\n\n\thandleClick (event, data) {\n\t\tif (this.props.singleSelection) {\n\t\t\tdata.node.selected = data.select;\n\t\t\tthis.setState({ singleSelection: data.node });\n\t\t\tif (this.state.singleSelection) {\n\t\t\t\tthis.state.singleSelection.selected = undefined;\n\t\t\t}\n\t\t\tthis.forceUpdate();\n\t\t\tif (isFunction(this.props.itemClicked)) {\n\t\t\t\tthis.props.itemClicked(event, data);\n\t\t\t}\n\t\t} else if (\n\t\t\t!this.props.noBranchSelection ||\n\t\t\t(this.props.noBranchSelection && data.node.type !== 'branch')\n\t\t) {\n\t\t\tdata.node.selected = data.select;\n\t\t\tthis.forceUpdate();\n\t\t\tif (isFunction(this.props.itemClicked)) {\n\t\t\t\tthis.props.itemClicked(event, data);\n\t\t\t}\n\t\t}\n\t},\n\n\thandleScroll (event, data) {\n\t\tif (isFunction(this.props.treeScrolled)) {\n\t\t\tthis.props.treeScrolled(event, data);\n\t\t}\n\t},\n\n\thandleSearchChange (event) {\n\t\tthis.setState({ searchTerm: event.target.value });\n\t},\n\n\trender () {\n\t\treturn (\n\t\t\t<IconSettings iconPath=\"/assets/icons\">\n\t\t\t\t<div>\n\t\t\t\t\t{this.props.searchable ? (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\tassistiveText=\"Search Tree\"\n\t\t\t\t\t\t\t\tvalue={this.state.searchTerm}\n\t\t\t\t\t\t\t\tonChange={this.handleSearchChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<Tree\n\t\t\t\t\t\tid=\"example-tree\"\n\t\t\t\t\t\tgetNodes={this.props.getNodes}\n\t\t\t\t\t\tnodes={this.state.nodes}\n\t\t\t\t\t\tonExpandClick={this.handleExpandClick}\n\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\tonScroll={this.handleScroll}\n\t\t\t\t\t\tsearchTerm={this.state.searchTerm}\n\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</IconSettings>\n\t\t);\n\t},\n});\n\ndescribe('Tree: ', () => {\n\t/*\n\t\tTests\n\t */\n\tdescribe('Tree can be navigated up/down using the keyboard', () => {\n\t\tbeforeEach(mountComponent(<DemoTree />));\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('moves selection up/down with wrapping when using keyboard up/down keys', function () {\n\t\t\t// Initial focus selects the item\n\t\t\tthis.wrapper.find('#example-tree-1').simulate('focus');\n\t\t\tlet itemDiv = this.wrapper\n\t\t\t\t.find('#example-tree-1')\n\t\t\t\t.find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to next node\n\t\t\tthis.wrapper.find('#example-tree-1').simulate('keyDown', keyObjects.DOWN);\n\t\t\titemDiv = this.wrapper.find('#example-tree-2').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to next node\n\t\t\tthis.wrapper.find('#example-tree-2').simulate('keyDown', keyObjects.DOWN);\n\t\t\titemDiv = this.wrapper.find('#example-tree-3').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to next node\n\t\t\tthis.wrapper.find('#example-tree-3').simulate('keyDown', keyObjects.DOWN);\n\t\t\titemDiv = this.wrapper.find('#example-tree-7').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Wrap to first node\n\t\t\tthis.wrapper.find('#example-tree-7').simulate('keyDown', keyObjects.DOWN);\n\t\t\titemDiv = this.wrapper.find('#example-tree-1').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Wrap to last node\n\t\t\tthis.wrapper.find('#example-tree-1').simulate('keyDown', keyObjects.UP);\n\t\t\titemDiv = this.wrapper.find('#example-tree-7').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to previous node\n\t\t\tthis.wrapper.find('#example-tree-7').simulate('keyDown', keyObjects.UP);\n\t\t\titemDiv = this.wrapper.find('#example-tree-3').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to previous node\n\t\t\tthis.wrapper.find('#example-tree-3').simulate('keyDown', keyObjects.UP);\n\t\t\titemDiv = this.wrapper.find('#example-tree-2').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Go to previous node\n\t\t\tthis.wrapper.find('#example-tree-2').simulate('keyDown', keyObjects.UP);\n\t\t\titemDiv = this.wrapper.find('#example-tree-1').find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\t\t});\n\t});\n\n\tdescribe('Tree can be navigated right/left using the keyboard', () => {\n\t\tbeforeEach(mountComponent(<DemoTree loading={false} />));\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('expands/collapses branches when using right/left keys', function () {\n\t\t\t// Initial focus selects the item\n\t\t\tconst item = this.wrapper.find('#example-tree-3');\n\t\t\titem.simulate('focus');\n\t\t\tconst itemDiv = this.wrapper\n\t\t\t\t.find('#example-tree-3')\n\t\t\t\t.find('.slds-is-selected');\n\t\t\texpect(itemDiv).to.have.length(1);\n\n\t\t\t// Expand branch\n\t\t\tthis.wrapper\n\t\t\t\t.find('#example-tree-3')\n\t\t\t\t.simulate('keyDown', keyObjects.RIGHT);\n\t\t\tlet items = this.wrapper.find('li[aria-level=2]');\n\t\t\texpect(items).to.have.length(4);\n\n\t\t\t// Collapse branch\n\t\t\tthis.wrapper.find('#example-tree-3').simulate('keyDown', keyObjects.LEFT);\n\t\t\titems = this.wrapper.find('li[aria-level=2]');\n\t\t\texpect(items).to.have.length(0);\n\n\t\t\t// Expand branch and select an item\n\t\t\tthis.wrapper\n\t\t\t\t.find('#example-tree-3')\n\t\t\t\t.simulate('keyDown', keyObjects.RIGHT);\n\t\t\titems = this.wrapper.find('li[aria-level=2]');\n\t\t\texpect(items).to.have.length(4);\n\n\t\t\t// Collapse branch from an item\n\t\t\tthis.wrapper.find('#example-tree-3').simulate('keyDown', keyObjects.DOWN);\n\t\t\tthis.wrapper.find('#example-tree-8').simulate('keyDown', keyObjects.LEFT);\n\t\t\titems = this.wrapper.find('li[aria-level=2]');\n\t\t\texpect(items).to.have.length(0);\n\t\t});\n\t});\n\n\tdescribe('Default Structure and CSS', () => {\n\t\tconst id = 'this-is-a-container-test';\n\t\tbeforeEach(\n\t\t\tmountComponent(\n\t\t\t\t<DemoTree\n\t\t\t\t\tclassName=\"this-is-a-container-test\"\n\t\t\t\t\theading=\"Foods\"\n\t\t\t\t\tid={id}\n\t\t\t\t\tlistClassName=\"this-is-an-unordered-list-test\"\n\t\t\t\t\tlistStyle={{ height: '500px' }}\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('has tree container class, list class, and heading', function () {\n\t\t\tconst container = this.wrapper.find('.slds-tree_container');\n\t\t\texpect(container.hasClass('this-is-a-container-test')).to.be.true;\n\n\t\t\tconst list = this.wrapper.find(`.${COMPONENT_CSS_CLASSES.base}`);\n\t\t\texpect(list).to.have.length(1);\n\t\t\texpect(list.hasClass('this-is-an-unordered-list-test')).to.be.true;\n\t\t\texpect(list.node.offsetHeight).to.equal(500);\n\n\t\t\tconst heading = this.wrapper.find(`#${id}__heading`);\n\t\t\texpect(heading).to.have.length(1);\n\t\t});\n\t});\n\n\tdescribe('Assistive Technology', () => {\n\t\tbeforeEach(mountComponent(<DemoTree assistiveText=\"Foods\" />));\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('has heading via assistiveText', function () {\n\t\t\tconst heading = this.wrapper.find(\n\t\t\t\t'#example-tree__heading.slds-assistive-text'\n\t\t\t);\n\t\t\texpect(heading).to.have.length(1);\n\t\t\tconst ariaLabelledbyId = this.wrapper.find(\n\t\t\t\t'.slds-tree[aria-labelledby=\"example-tree__heading\"]'\n\t\t\t);\n\t\t\texpect(ariaLabelledbyId).to.have.length(1);\n\t\t});\n\t});\n\n\tdescribe('Initial Expanded and Selection based on nodes', () => {\n\t\tbeforeEach(\n\t\t\tmountComponent(\n\t\t\t\t<DemoTree\n\t\t\t\t\texampleNodesIndex=\"sampleNodesWithInitialState\"\n\t\t\t\t\theading=\"Foods\"\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('has initial selection', function () {\n\t\t\tlet selectedNode = this.wrapper\n\t\t\t\t.find('#example-tree-2')\n\t\t\t\t.find('.slds-is-selected');\n\t\t\t// Fruits, Watermelon, Tree Fruits\n\t\t\texpect(selectedNode).to.have.length(3);\n\t\t\tselectedNode = this.wrapper\n\t\t\t\t.find('#example-tree-5')\n\t\t\t\t.find('.slds-is-selected');\n\t\t\texpect(selectedNode).to.have.length(1);\n\t\t});\n\n\t\tit('has initial expanded branches', function () {\n\t\t\tconst expandedBranchList = this.wrapper\n\t\t\t\t.find('#example-tree-2')\n\t\t\t\t.find('.slds-is-expanded');\n\t\t\texpect(expandedBranchList.node.childNodes).to.have.length(2);\n\t\t});\n\t});\n\n\tdescribe('Branch expands and selects on click', () => {\n\t\tconst itemClicked = sinon.spy();\n\t\tconst expandClicked = sinon.spy();\n\n\t\tbeforeEach(\n\t\t\tmountComponent(\n\t\t\t\t<DemoTree\n\t\t\t\t\tbranchExpandClicked={expandClicked}\n\t\t\t\t\titemClicked={itemClicked}\n\t\t\t\t\theading=\"Foods\"\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('branch calls onExpandClicked and onClick', function () {\n\t\t\tconst branch = this.wrapper\n\t\t\t\t.find('#example-tree-2')\n\t\t\t\t.find('.slds-tree__item');\n\t\t\tbranch.simulate('click');\n\t\t\texpect(itemClicked.callCount).to.equal(1);\n\n\t\t\tconst expandButton = this.wrapper\n\t\t\t\t.find('#example-tree-2')\n\t\t\t\t.find('.slds-button');\n\t\t\texpandButton.simulate('click');\n\t\t\texpect(expandClicked.callCount).to.equal(1);\n\t\t});\n\t});\n\n\tdescribe('Item calls onClick', () => {\n\t\tconst itemClicked = sinon.spy();\n\n\t\tbeforeEach(\n\t\t\tmountComponent(<DemoTree itemClicked={itemClicked} heading=\"Foods\" />)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('item calls itemClicked', function () {\n\t\t\tconst item = this.wrapper\n\t\t\t\t.find('#example-tree-1')\n\t\t\t\t.find('.slds-tree__item');\n\t\t\titem.simulate('click');\n\t\t\texpect(itemClicked.callCount).to.equal(1);\n\t\t});\n\t});\n\n\tdescribe('getNodes is called on initial tree', () => {\n\t\tconst getNodes = sinon.spy();\n\n\t\tbeforeEach(\n\t\t\tmountComponent(\n\t\t\t\t<DemoTree\n\t\t\t\t\texampleNodesIndex=\"sampleNodesWithInitialState\"\n\t\t\t\t\tgetNodes={getNodes}\n\t\t\t\t\theading=\"Foods\"\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('getNodes is called on initial tree', () => {\n\t\t\texpect(getNodes.callCount).to.equal(1);\n\t\t});\n\t});\n\n\tdescribe('Search term is highlighted', () => {\n\t\tbeforeEach(mountComponent(<DemoTree searchTerm=\"fruit\" heading=\"Foods\" />));\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('item calls itemClicked', function () {\n\t\t\tconst markedItem = this.wrapper.find('mark');\n\t\t\texpect(markedItem).to.have.length(1);\n\t\t});\n\t});\n\n\tdescribe('Scrolling calls onScroll', () => {\n\t\tconst onScroll = sinon.spy();\n\n\t\tbeforeEach(\n\t\t\tmountComponent(\n\t\t\t\t<DemoTree\n\t\t\t\t\texampleNodesIndex=\"sampleNodesWithLargeDataset\"\n\t\t\t\t\theading=\"Foods\"\n\t\t\t\t\tonScroll={onScroll}\n\t\t\t\t\tlistStyle={{\n\t\t\t\t\t\theight: '300px',\n\t\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)\n\t\t);\n\n\t\tafterEach(unmountComponent);\n\n\t\tit('scrolling calls onScroll', function () {\n\t\t\tconst list = this.wrapper.find(`.${COMPONENT_CSS_CLASSES.base}`);\n\t\t\tlist.simulate('scroll');\n\t\t\texpect(onScroll.callCount).to.equal(1);\n\t\t});\n\t});\n});\n"],"file":"tree.browser-test.js"}
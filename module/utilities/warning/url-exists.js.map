{"version":3,"sources":["../../../.tmp-es/utilities/warning/url-exists.js"],"names":["warning","urlExists","process","env","NODE_ENV","hasWarned","hasExecuted","control","url","comment","window","XMLHttpRequest","http","open","send","status","additionalComment"],"mappings":"AAAA;;AACA;;AAEA;;AACA;AAEA;AACA,OAAOA,OAAP,MAAoB,SAApB;;AAEA,IAAIC,YAAY,qBAAY,CAAE,CAA9B;;AAEA,IAAIC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAC1C,MAAMC,YAAY,EAAlB;AACA,MAAIC,WAAJ,CAF0C,CAI1C;;AACAL,cAAY,mBAAUM,OAAV,EAAmBC,GAAnB,EAAwBC,OAAxB,EAAiC;AAC5C,QACC,CAACH,WAAD,IACA,CAACD,oBAAaE,OAAb,WADD,IAEA,OAAOG,MAAP,KAAkB,WAFlB,IAGAC,cAHA,IAIAT,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAL1B,EAME;AACD,UAAMQ,OAAO,IAAID,cAAJ,EAAb;AACAC,WAAKC,IAAL,CAAU,KAAV,EAAiBL,GAAjB,EAAsB,KAAtB;AACAI,WAAKE,IAAL;AACAR,oBAAc,IAAd;;AAEA,UAAIM,KAAKG,MAAL,KAAgB,GAApB,EAAyB;AACxB,YAAMC,oBAAoBP,qBAAcA,OAAd,IAA0B,EAApD;AACA;;AACAT,gBACC,CAACQ,GADF,4CAEoCA,GAFpC,iYAEsaQ,iBAFta;AAIA;;AACAX,4BAAaE,OAAb,cAA+B,CAAC,CAACC,GAAjC;AACA;AACD;AACD,GAxBD;AAyBA;;AAED,eAAeP,SAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable import/no-mutable-exports */\n/* global XMLHttpRequest, window */\n\n// This function does an \"AJAX\" request to warn users on how to setup their icon path.\nimport warning from 'warning';\n\nlet urlExists = function () {};\n\nif (process.env.NODE_ENV !== 'production') {\n\tconst hasWarned = {};\n\tlet hasExecuted;\n\n\t// Using XMLHttpRequest can cause problems in non-browser environments. This should be completely removed in production environment and should not execute in a testing environment.\n\turlExists = function (control, url, comment) {\n\t\tif (\n\t\t\t!hasExecuted &&\n\t\t\t!hasWarned[`${control}-path`] &&\n\t\t\ttypeof window !== 'undefined' &&\n\t\t\tXMLHttpRequest &&\n\t\t\tprocess.env.NODE_ENV !== 'test'\n\t\t) {\n\t\t\tconst http = new XMLHttpRequest();\n\t\t\thttp.open('GET', url, false);\n\t\t\thttp.send();\n\t\t\thasExecuted = true;\n\n\t\t\tif (http.status === 404) {\n\t\t\t\tconst additionalComment = comment ? ` ${comment}` : '';\n\t\t\t\t/* eslint-disable max-len */\n\t\t\t\twarning(\n\t\t\t\t\t!url,\n\t\t\t\t\t`The icon asset was not found at ${url}. Make sure the path to the icon asset is correct. You can set the icon path by importing the IconSettings component, \\`<IconSettings iconPath=[/assets/icons]>\\` from \\`components/iconSettings\\`, and wrap that component around your entire app or around individual components using icons. If you are using the \\`<Icon>\\` component, you can also pass the url to \\`this.props.path\\`.${additionalComment}`\n\t\t\t\t);\n\t\t\t\t/* eslint-enable max-len */\n\t\t\t\thasWarned[`${control}-path`] = !!url;\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport default urlExists;\n"],"file":"url-exists.js"}